#errorCatcher Echo
## forecast sampler skin for weewx - Copyright 2014 Matthew Wall
## $Id$
#encoding UTF-8
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Forecast Sampler</title>
    <style>
body {
  font-family: Verdana, Arial, Helvetica, sans-serif;
  font-size: 10pt;
  background-color: #ffffff;
}
h1 {
  font-size: 110%;
}
    </style>
  </head>
  <body>

<p>
This skin illustrates the use of data from the forecasting module.
</p>

#if $varExists('forecast')

<h1>Forecast Table</h1>
<p>The table of forecast data is displayed automatically by including a single
file called forecast_table.inc.  Modify the first part of that file to control
which data are shown in the table.</p>
#include $Extras.forecast_table

#set $periods = $forecast.weather_periods('WU',max_events=6)
#if len($periods) > 0
<h1>Weather Underground</h1>
#for $period in $periods
$period.event_ts $forecast.label('Weather', $period.clouds)<br/>
#end for
#end if

#set $periods = $forecast.weather_periods('NWS',max_events=6)
#if len($periods) > 0
<h1>U.S. National Weather Service</h1>
#for $period in $periods
$period.event_ts $forecast.label('Weather', $period.clouds)<br/>
#end for
#end if

#if $varExists('forecast.zambretti')
<h1>Zambretti</h1>
The forecast is $forecast.label('Zambretti', $forecast.zambretti.code)
#end if

#set $tides = $forecast.xtides
#if len($tides) > 0
<h1>Tides</h1>
  #for $tide in $tides
$tide.event_ts $tide.hilo $tide.offset<br/>
  #end for
#end if

#else

<p>The Forecast search list extension is not installed.</p>

#end if

  </body>
</html>
