#!/bin/sh -e
# $Id$
# postrm script for weewx debian package
# Copyright 2013 Matthew Wall
#
# ways this script might be invoked:
#
# postrm remove
# postrm purge
# old-postrm upgrade new-version
# disappearer's-postrm disappear overwriter overwriter-version
# new-postrm failed-upgrade old-version
# new-postrm abort-install
# new-postrm abort-install old-version
# new-postrm abort-upgrade old-version

if [ "$1" != remove -a "$1" != purge ]; then
    exit 0
fi

# remove the startup configuration
update-rc.d -f weewx remove > /dev/null

if [ "$1" = purge ] && [ -e /usr/share/debconf/confmodule ]; then
    . /usr/share/debconf/confmodule
    # remove any debconf entries
    db_purge
fi

exit 0
